<?php
// Start the session

require("auth.php");
$studentID = $_GET['studentID'];



$host = 'localhost';
$user = 'root';
$password = ' ';
$database = 'itcs489';

$connection = new mysqli($host, $user, $password, $database);

if ($connection->connect_error) {
    die("Connection failed: " . $connection->connect_error);
}

// Function to display attendance records for a student
function showAttendance($connection)
{
    // Get the StudentID from the session
    // Start the session
    
    $studentID = $_GET['studentID'];

    
    // Retrieve attendance records for the student from the database
    $query = "SELECT * FROM attendance WHERE StudentID = '$studentID'";
    $result = mysqli_query($connection, $query);

    if (mysqli_num_rows($result) > 0) {
        // Display attendance records
        echo "<h2>Attendance Records</h2>";
        echo "<table>";
        echo "<tr><th>Date</th><th>Status</th></tr>";

        while ($row = mysqli_fetch_assoc($result)) {
            $date = $row['Date'];
            $status = $row['Status'];

            echo "<tr><td>$date</td><td>$status</td></tr>";
        }

        echo "</table>";
    } else {
        echo "No attendance records found.";
    }
}

// Example usage:
showAttendance($connection);
?>